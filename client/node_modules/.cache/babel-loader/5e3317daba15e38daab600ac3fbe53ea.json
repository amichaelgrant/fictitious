{"ast":null,"code":"function deserialize(str) {\n  return JSON.parse(str);\n}\n\n;\n\nfunction serialize(obj) {\n  return JSON.stringify(obj);\n}\n\n;\n\nfunction addToCart(item) {\n  const cartStorage = deserialize(localStorage.cartStorage || \"[]\");\n  cartStorage.push(item);\n  localStorage.cartStorage = serialize(cartStorage);\n}\n\n;\n\nfunction removeFromCart(item) {\n  const cartStorage = deserialize(localStorage.cartStorage || \"[]\");\n  localStorage.cartStorage = cartStorage.filter(i => i.id !== item.id);\n}\n\n;\n\nfunction clearCart() {\n  localStorage.clear();\n}\n\n;\n\nfunction subscribeToCartChanges(callback) {\n  window.addEventListener(\"storage\", evt => {\n    console.log(\"subscribeToCartChanges: \", evt);\n    callback && callback(evt);\n  });\n}\n\n;\nexport { addToCart, removeFromCart, clearCart, subscribeToCartChanges };","map":{"version":3,"sources":["/ubuntu/fictitious/client/src/components/product/CartUtil.js"],"names":["deserialize","str","JSON","parse","serialize","obj","stringify","addToCart","item","cartStorage","localStorage","push","removeFromCart","filter","i","id","clearCart","clear","subscribeToCartChanges","callback","window","addEventListener","evt","console","log"],"mappings":"AAAA,SAASA,WAAT,CAAqBC,GAArB,EAAyB;AACvB,SAAOC,IAAI,CAACC,KAAL,CAAWF,GAAX,CAAP;AACD;;AAAA;;AACD,SAASG,SAAT,CAAmBC,GAAnB,EAAuB;AACrB,SAAOH,IAAI,CAACI,SAAL,CAAeD,GAAf,CAAP;AACD;;AAAA;;AAED,SAASE,SAAT,CAAoBC,IAApB,EAAyB;AACvB,QAAMC,WAAW,GAAGT,WAAW,CAACU,YAAY,CAACD,WAAb,IAA4B,IAA7B,CAA/B;AACAA,EAAAA,WAAW,CAACE,IAAZ,CAAiBH,IAAjB;AACAE,EAAAA,YAAY,CAACD,WAAb,GAA2BL,SAAS,CAACK,WAAD,CAApC;AACD;;AAAA;;AACD,SAASG,cAAT,CAAwBJ,IAAxB,EAA6B;AAC3B,QAAMC,WAAW,GAAGT,WAAW,CAACU,YAAY,CAACD,WAAb,IAA4B,IAA7B,CAA/B;AACAC,EAAAA,YAAY,CAACD,WAAb,GAA2BA,WAAW,CAACI,MAAZ,CAAoBC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASP,IAAI,CAACO,EAAxC,CAA3B;AACD;;AAAA;;AACD,SAASC,SAAT,GAAoB;AAClBN,EAAAA,YAAY,CAACO,KAAb;AACD;;AAAA;;AACD,SAASC,sBAAT,CAAgCC,QAAhC,EAAyC;AACvCC,EAAAA,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAoCC,GAAD,IAAS;AAC1CC,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCF,GAAxC;AACAH,IAAAA,QAAQ,IAAIA,QAAQ,CAACG,GAAD,CAApB;AACD,GAHD;AAID;;AAAA;AAED,SACEf,SADF,EAEEK,cAFF,EAGEI,SAHF,EAIEE,sBAJF","sourcesContent":["function deserialize(str){\n  return JSON.parse(str);\n};\nfunction serialize(obj){\n  return JSON.stringify(obj);\n};\n\nfunction addToCart (item){\n  const cartStorage = deserialize(localStorage.cartStorage || \"[]\");\n  cartStorage.push(item);\n  localStorage.cartStorage = serialize(cartStorage);\n};\nfunction removeFromCart(item){\n  const cartStorage = deserialize(localStorage.cartStorage || \"[]\");\n  localStorage.cartStorage = cartStorage.filter((i) => i.id !== item.id);\n};\nfunction clearCart(){\n  localStorage.clear();\n};\nfunction subscribeToCartChanges(callback){\n  window.addEventListener(\"storage\", (evt) => {\n    console.log(\"subscribeToCartChanges: \", evt);\n    callback && callback(evt);\n  });\n};\n\nexport {\n  addToCart,\n  removeFromCart,\n  clearCart,\n  subscribeToCartChanges\n};\n"]},"metadata":{},"sourceType":"module"}