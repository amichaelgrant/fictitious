(this.webpackJsonpportal=this.webpackJsonpportal||[]).push([[0],{35:function(e,a,t){e.exports=t(74)},73:function(e,a,t){},74:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(26),l=t.n(r),s=t(5),i=t(9),m=t(6);var o=function(e){var a=e.id,t=e.title,n=e.subtitle,r=e.image,l=e.children,s=e.onClick;return c.a.createElement("div",{className:"card"},r&&c.a.createElement("div",{className:"card-image clickable",onClick:function(){s&&s({id:a,title:t,subtitle:n,image:r})}},c.a.createElement("figure",{className:"image is-4by3"},c.a.createElement("img",{src:r,alt:t}))),c.a.createElement("div",{className:"card-content"},c.a.createElement("div",{className:"media"},c.a.createElement("div",{className:"media-content"},t&&c.a.createElement("p",{className:"title is-4 has-text-grey-darker"},t),n&&c.a.createElement("p",{className:"subtitle is-6 has-text-grey-light"},n))),l&&c.a.createElement("div",{className:"content"},l)))};var u=function(e){e.id;var a=e.name,t=e.description,n=e.price,r=e.image,l=(e.category,e.reviews),s=e.quantityInStock,i=e.extended,m=e.onClick,u=e.onAddToCart;return c.a.createElement("div",{className:"product"},c.a.createElement("div",{className:"columns is-multiple is-variable"},c.a.createElement("div",{className:"column"},c.a.createElement(o,{title:a,image:r,onClick:m},i&&c.a.createElement("div",{className:"has-text-grey"},t),c.a.createElement("h1",{className:"subtitle is-family-monospace"},"$",n),c.a.createElement("div",{className:"field is-grouped"},c.a.createElement("p",{className:"control is-expanded"},c.a.createElement("span",{className:"has-text-grey is-size-7 is-capitalized"},"reviews ",c.a.createElement("span",{className:"tag is-warning"},l))),c.a.createElement("p",{className:"control"},c.a.createElement("span",{className:"has-text-grey is-size-7 is-capitalized"},"Instock ",c.a.createElement("span",{className:"tag"},s)))))),i&&c.a.createElement("div",{className:"column is-7"},c.a.createElement(o,null,t,c.a.createElement("div",{className:"btngroup"},c.a.createElement("br",null),c.a.createElement("button",{className:"button is-danger is-large is-fullwidth is-uppercase",onClick:function(){u&&u()}},"Add to cart"))))))};var d=function(e){var a=e.items,t=e.onItemClick,n=function(e){return function(a){t&&t(e)}};return c.a.createElement("div",{className:"product-list"},a&&c.a.createElement("div",{className:"columns is-multiline is-mobile- is-variable is-6",style:{flexWrap:"wrap"}},a.map((function(e){return c.a.createElement("div",{key:e.id,className:"column is-4"},c.a.createElement(u,Object.assign({},e,{onClick:n(e)})))}))))},E=t(3),v=t.n(E),p=t(12);var f=Object(i.f)((function(e){var a=Object(n.useState)([]),t=Object(m.a)(a,2),r=t[0],l=t[1],s=Object(n.useState)(0),i=Object(m.a)(s,2),o=i[0],u=i[1];return Object(n.useEffect)((function(){var e;(e={},v.a.get("/products?".concat(Object(p.stringify)(e)))).then((function(e){l(e.items),u(e.size)}))}),[]),c.a.createElement("div",{className:"products"},c.a.createElement("h1",{className:"title"},"Products"),c.a.createElement("div",{className:"subtitle"},"[",o,"] items available"),c.a.createElement("div",null,c.a.createElement(d,{items:r,onItemClick:function(a){e.history.push("/product/".concat(a.id))}})))}));var b=function(e){var a=e.items;return e.onItemClick,c.a.createElement("div",{className:"product-list"},a&&c.a.createElement("table",{className:"table is-fullwidth"},c.a.createElement("tbody",null,a.map((function(e){return c.a.createElement("tr",{key:e.id},c.a.createElement("td",null,c.a.createElement("div",null,e.id),c.a.createElement("div",{className:"tag"},e.created)),c.a.createElement("td",null,e.items.map((function(e){return c.a.createElement("div",null,e.name," (",e.quantity,") @ (",e.price,")")}))))})))))};var N=Object(i.f)((function(e){var a=Object(n.useState)([]),t=Object(m.a)(a,2),r=t[0],l=t[1],s=Object(n.useState)(0),i=Object(m.a)(s,2),o=i[0],u=i[1];return Object(n.useEffect)((function(){var e;(e={},v.a.get("/orders?".concat(Object(p.stringify)(e)))).then((function(e){l(e.items),u(e.size)}))}),[]),c.a.createElement("div",{className:"orders"},c.a.createElement("h1",{className:"title"},"Orders"),c.a.createElement("div",{className:"subtitle"},"[",o,"] items available"),c.a.createElement("div",null,c.a.createElement(b,{items:r,onItemClick:function(a){e.history.push("/order/".concat(a.id))}})))}));function g(e){try{return JSON.parse(e)}catch(a){return[]}}function h(e){try{return JSON.stringify(e)}catch(a){return"[]"}}function y(){return g(localStorage.cart||"[]")}var O=Object(i.f)((function(e){var a=e.match.params.id,t=Object(n.useState)(null),r=Object(m.a)(t,2),l=r[0],s=r[1];return Object(n.useEffect)((function(){(function(e){return v.a.get("/product/".concat(e))})(a).then((function(e){s(e)}))}),[0]),c.a.createElement("div",{className:"product-view"},c.a.createElement("h1",{className:"title"}),c.a.createElement("div",{className:"subtitle"}),c.a.createElement("div",null,c.a.createElement(u,Object.assign({},l,{extended:!0,onAddToCart:function(a){return function(t){!function(e){var a=g(localStorage.cart||"[]");a.find((function(a){return a.id===e.id}))||(e.quantity=1,a.push(e),localStorage.cart=h(a),window.dispatchEvent(new Event("storage")))}(a),e.history.push("/products")}}(l)}))))})),j=t(29);var k=function(e){var a=e.open,t=e.title,n=e.subtitle,r=e.children,l=e.footer,s=e.onClose;return c.a.createElement("div",{className:"modal ".concat(a?"is-active":"")},c.a.createElement("div",{className:"modal-background"}),c.a.createElement("div",{className:"modal-card"},c.a.createElement("header",{className:"modal-card-head"},c.a.createElement("div",{className:"modal-card-title"},t,c.a.createElement("div",{className:"subtitle"},n)),c.a.createElement("button",{className:"delete","aria-label":"close",onClick:function(){s&&s()}})),c.a.createElement("section",{className:"modal-card-body"},r),l&&c.a.createElement("footer",{className:"modal-card-foot"},l&&c.a.Children.map(l,(function(e){return e})))))},w=function(e){Object(j.a)(e),console.log("Cart: ");var a=Object(n.useState)([]),t=Object(m.a)(a,2),r=t[0],l=t[1],s=Object(n.useState)(!1),i=Object(m.a)(s,2),o=i[0],u=i[1],d=Object(n.useState)(!1),E=Object(m.a)(d,2),p=(E[0],E[1]),f=function(e){return function(){!function(e){var a=g(localStorage.cart||"[]").filter((function(a){return a.id!==e.id}));console.log("filtered: ",a),localStorage.cart=h(a),window.dispatchEvent(new Event("storage"))}(e)}},b=function(e,a){return function(t){console.log("updateQuantity#item ",e,a),function(e,a){var t=g(localStorage.cart||"[]");t.forEach((function(t){t.id===e.id&&(t.quantity+=a,t.quantity<1&&(t.quantity=1))})),localStorage.cart=h(t),window.dispatchEvent(new Event("storage"))}(e,a)}};return Object(n.useEffect)((function(){var e;l(y()),e=function(e){l(y())},window.addEventListener("storage",e)}),[]),c.a.createElement("div",{className:"cart"},c.a.createElement("button",{className:"button is-light",onClick:function(){u(!0)}},"Cart \xa0",c.a.createElement("span",{className:"tag is-warning"},r&&r.length)),c.a.createElement(k,{open:o,title:c.a.createElement("span",null,"Cart (",r.length,")"),subtitle:c.a.createElement("h1",{className:"title"},c.a.createElement("br",null),c.a.createElement("span",{className:"title is-4"},"Totals: "),c.a.createElement("span",null,c.a.createElement("span",{className:"subtitle"},"$"),function(e){var a=0;return e.forEach((function(e){a+=parseInt(e.price,10)*e.quantity})),a.toFixed(2)}(r))),onClose:function(){u(!1)},footer:c.a.createElement("div",{className:"cart-footer"},r&&r.length>0&&c.a.createElement("button",{className:"button is-danger is-large is-uppercase",onClick:function(){var e,a=y().map((function(e){return console.log("p========",e),{product:e.id,quantity:e.quantity,name:e.name,price:e.price}}));console.log("cartItems: ",a),(e={items:a},console.log("createOrder# ",e),v.a.post("/order",e)).then((function(e){localStorage.clear(),window.dispatchEvent(new Event("storage")),p(!0),u(!1)})).catch((function(e){}))}},"Order"))},c.a.createElement("div",null,r&&c.a.createElement("div",{className:"list-"},r.map((function(e,a){return c.a.createElement("div",{key:a,className:"list-item"},c.a.createElement("button",{className:"button is-small is-pulled-right is-danger",onClick:f(e)},c.a.createElement("i",{className:"fas fa-trash-alt"})),c.a.createElement("div",{className:"title is-capitalized"},e.name),c.a.createElement("div",{className:"subtitle"},e.price),c.a.createElement("div",{className:"subtitle"},e.name),c.a.createElement("div",{className:"field has-addons is-grouped-right"},c.a.createElement("p",{className:"control"},c.a.createElement("button",{className:"button is-light",onClick:b(e,-1)},c.a.createElement("span",{className:"icon"},c.a.createElement("i",{className:"fas fa-angle-left"})))),c.a.createElement("p",{className:"control"},c.a.createElement("a",{className:"button"},e.quantity)),c.a.createElement("p",{className:"control"},c.a.createElement("button",{className:"button is-light",onClick:b(e,1)},c.a.createElement("span",{className:"icon"},c.a.createElement("i",{className:"fas fa-angle-right"}))))))}))),(!r||!r.length)&&c.a.createElement("p",{className:"subtitle"},"No items in cart yet, browse to add items."))))};var C=function(e){var a=e.children;return console.log("Navbar#"),c.a.createElement("nav",{className:"navbar is-transparent is-fixed-top is-default is-spaced"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"navbar-brand"},c.a.createElement("a",{className:"navbar-item",href:"/"},c.a.createElement("img",{src:"https://bulma.io/images/bulma-logo.png",alt:"fictitious",width:"112",height:"28"})),c.a.createElement("div",{className:"navbar-burger burger","data-target":"navbarExampleTransparentExample",onClick:function(e){e.currentTarget.classList.toggle("is-active"),document.getElementById("navbarExampleTransparentExample").classList.toggle("is-active")}},c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null))),c.a.createElement("div",{id:"navbarExampleTransparentExample",className:"navbar-menu"},c.a.createElement("div",{className:"navbar-start"},c.a.createElement(s.b,{className:"navbar-item",to:"/products"},"Products")),c.a.createElement("div",{className:"navbar-end"},c.a.createElement(s.b,{className:"navbar-item",to:"/orders"},"Orders"),c.a.createElement("div",{className:"navbar-item"},c.a.createElement("div",{className:"field is-grouped"},c.a.createElement("div",{className:"control"},a))),c.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},c.a.createElement(s.b,{className:"navbar-link",to:"/"},"User@gmail.com"),c.a.createElement("div",{className:"navbar-dropdown is-boxed"},c.a.createElement(s.b,{className:"navbar-item",to:"/"},"Profile"),c.a.createElement("a",{className:"navbar-item",to:"/"},"Setting"),c.a.createElement("hr",{className:"navbar-divider"}),c.a.createElement(s.b,{className:"navbar-item is-active",to:"/"},"Logout")))))))};var x=function(e){return Object(n.useEffect)((function(){}),[]),c.a.createElement("section",{className:"section"},c.a.createElement("div",{className:"container"},c.a.createElement(s.a,null,c.a.createElement(C,null,c.a.createElement(w,null)),c.a.createElement(i.c,null,c.a.createElement(i.a,{exact:!0,path:"/",render:function(){return c.a.createElement("div",{className:"has-text-centered"},c.a.createElement(s.b,{to:"/products",className:"button is-danger is-large is-uppercase is-family-monospace"},"Enter"))}}),c.a.createElement(i.a,{exact:!0,path:"/products",component:f}),c.a.createElement(i.a,{exact:!0,path:"/product/:id",component:O}),c.a.createElement(i.a,{exact:!0,path:"/orders",component:N})))))},S=t(30),q=t(31),I=t(33),z=t(32),T=t(34),L=function(e){function a(e){var t;return Object(S.a)(this,a),(t=Object(I.a)(this,Object(z.a)(a).call(this,e))).state={hasError:!1},t}return Object(T.a)(a,e),Object(q.a)(a,[{key:"componentDidCatch",value:function(e,a){}},{key:"render",value:function(){return this.state.hasError?c.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(c.a.Component);v.a.defaults.baseURL="http://localhost:8000",v.a.defaults.headers.common.Authorization="None",v.a.defaults.headers.post["Content-Type"]="application/json",v.a.defaults.timeout=2500,v.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),v.a.interceptors.response.use((function(e){return e&&e.data}),(function(e){return Promise.reject(e)}));t(73);l.a.render(c.a.createElement(L,null,c.a.createElement(x,null)),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.b4205b72.chunk.js.map