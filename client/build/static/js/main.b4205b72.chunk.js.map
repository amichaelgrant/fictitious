{"version":3,"sources":["components/card/index.js","components/product/Product.js","components/product/ProductList.js","pages/product/index.js","apis/product.js","components/order/OrderList.js","pages/order/index.js","apis/order.js","components/product/CartStorage.js","pages/product/ProductView.js","components/modal/index.js","components/product/Cart.js","components/nav/index.js","App.js","AppError.js","axiosSetup.js","index.js"],"names":["Card","id","title","subtitle","image","children","onClick","className","src","alt","Product","name","description","price","reviews","category","quantityInStock","extended","onAddToCart","ProductList","items","onItemClick","item","evt","style","flexWrap","map","key","withRouter","props","useState","products","setProducts","size","setSize","useEffect","params","axios","get","stringify","then","ps","history","push","OrderList","created","itm","quantity","orders","setOrders","deserialize","str","JSON","parse","ex","serialize","obj","listItems","localStorage","cart","match","product","setProduct","getProduct","result","find","window","dispatchEvent","Event","addItem","Modal","open","footer","onClose","aria-label","React","Children","f","Cart","console","log","setItems","setOpen","setFinalize","onRemove","filtered","filter","removeItem","updateQuantity","qty","forEach","updateItem","callback","addEventListener","length","itms","total","parseInt","toFixed","computeTotal","cartItems","p","post","r","clear","catch","err","index","Navbar","href","width","height","data-target","currentTarget","classList","toggle","document","getElementById","to","App","exact","path","render","component","Products","ProductView","Orders","AppError","state","hasError","error","errorInfo","this","Component","defaults","baseURL","headers","common","timeout","interceptors","request","use","config","Promise","reject","response","data","ReactDOM"],"mappings":"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","file":"static/js/main.b4205b72.chunk.js","sourcesContent":["import React from 'react';\n\n\nfunction Card({id, title, subtitle, image, children, onClick}) {\n  return (\n    <div className=\"card\">\n      {image && (\n        <div className=\"card-image clickable\"\n          onClick={()=>{\n            onClick && onClick({id, title, subtitle, image});\n          }}>\n          <figure className=\"image is-4by3\">\n            <img src={image} alt={title}/>\n          </figure>\n        </div>\n      )}\n      <div className=\"card-content\">\n        <div className=\"media\">\n          <div className=\"media-content\">\n            {title && (\n              <p className=\"title is-4 has-text-grey-darker\">\n                {title}\n              </p>\n            )}\n            {subtitle && (\n              <p className=\"subtitle is-6 has-text-grey-light\">\n                {subtitle}\n              </p>\n            )}\n          </div>\n        </div>\n        {children && (\n          <div className=\"content\">\n            {children}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Card;\n","import React, {Fragment} from 'react';\nimport Card from \"../card\";\n\nfunction Product({\n  id, name, description, price, image, category, reviews,\n  quantityInStock, extended, onClick, onAddToCart\n}) {\n\n  return (\n    <div className=\"product\">\n\n      <div className=\"columns is-multiple is-variable\">\n        <div className=\"column\">\n          <Card\n            title={name}\n            image={image}\n            onClick={onClick}>\n            {extended && (\n              <div className=\"has-text-grey\">{description}</div>\n            )}\n            <h1 className=\"subtitle is-family-monospace\">${price}</h1>\n\n            <div className=\"field is-grouped\">\n              <p className=\"control is-expanded\">\n                <span className=\"has-text-grey is-size-7 is-capitalized\">\n                  reviews <span className=\"tag is-warning\">{reviews}</span>\n                </span>\n              </p>\n              <p className=\"control\">\n                <span className=\"has-text-grey is-size-7 is-capitalized\">\n                  Instock <span className=\"tag\">{quantityInStock}</span>\n                </span>\n              </p>\n            </div>\n\n            {/* {extended && (\n              <Fragment>\n                <hr/>\n                <div className=\"btngroup\">\n                  <button className=\"button is-danger is-large is-fullwidth\"\n                    onClick={()=>{\n                      onAddToCart && onAddToCart();\n                    }}>\n                    Add to cart\n                  </button>\n                </div>\n              </Fragment>\n            )} */}\n          </Card>\n        </div>\n        {extended && (\n          <div className=\"column is-7\">\n            <Card>\n              {description}\n              <div className=\"btngroup\">\n                <br/>\n                <button className=\"button is-danger is-large is-fullwidth is-uppercase\"\n                  onClick={()=>{\n                    onAddToCart && onAddToCart();\n                  }}>\n                  Add to cart\n                </button>\n              </div>\n            </Card>\n          </div>\n        )}\n      </div>\n\n    </div>\n  );\n\n};\n\nexport default Product;\n","import React, {Fragment} from 'react';\nimport Product from './Product';\n\n\nfunction ProductList({items, onItemClick}) {\n\n  const onClick = (item) => {\n    return(evt) => {\n      onItemClick && onItemClick(item);\n    }\n  };\n\n  return (\n    <div className=\"product-list\">\n      {items && (\n        <div className=\"columns is-multiline is-mobile- is-variable is-6\" style={{flexWrap: \"wrap\"}}>\n          {items.map((item) => (\n            <div key={item.id} className=\"column is-4\">\n              <Product {...item}\n                onClick={onClick(item)}\n              />\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default ProductList;\n","import React, {useState, useEffect} from 'react';\nimport {withRouter} from \"react-router-dom\";\nimport ProductList from \"../../components/product/ProductList\";\nimport {listProducts} from \"../../apis/product\";\n\n\n\nfunction Index(props) {\n  //console.log(\"Product: \", props);\n\n  const[products, setProducts] = useState([]);\n  const[size, setSize] = useState(0);\n\n  useEffect(() => {\n    listProducts({}).then((ps)=>{\n      setProducts(ps.items);\n      setSize(ps.size);\n    });\n  }, []);\n\n  return (\n    <div className=\"products\">\n      <h1 className=\"title\">Products</h1>\n      <div className=\"subtitle\">[{size}] items available</div>\n\n      <div>\n        <ProductList\n          items={products}\n          onItemClick={(item)=>{\n            props.history.push(`/product/${item.id}`);\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(Index);\n","import axios from \"axios\";\nimport {stringify} from \"query-string\";\n\n\nfunction getProduct(id){\n  return axios.get(`/product/${id}`);\n};\nfunction listProducts(params){\n  return axios.get(`/products?${stringify(params)}`);\n};\n\n\n\nexport {\n  getProduct,\n  listProducts\n};\n","import React, {Fragment} from 'react';\n\n\nfunction OrderList({items, onItemClick}) {\n\n\tconst onClick = (item) => {\n\t\treturn(evt) => {\n\t\t\tonItemClick && onItemClick(item);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"product-list\">\n\t\t\t{items && (\n\t\t\t\t<table className=\"table is-fullwidth\">\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{items.map((item) => (\n\t\t\t\t\t\t\t<tr key={item.id}>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div>{item.id}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"tag\">{item.created}</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t{item.items.map((itm) => (\n\t\t\t\t\t\t\t\t\t\t<div>{itm.name} ({itm.quantity}) @ ({itm.price})</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default OrderList;\n","import React, {useState, useEffect} from 'react';\nimport {withRouter} from \"react-router-dom\";\nimport OrderList from \"../../components/order/OrderList\";\nimport {listOrders} from \"../../apis/order\";\n\n\n\nfunction Index(props) {\n\t//console.log(\"Order: \", props);\n\t\n\tconst[orders, setOrders] = useState([]);\n\tconst[size, setSize] = useState(0);\n\t\n\tuseEffect(() => {\n\t\tlistOrders({}).then((ps)=>{\n\t\t\tsetOrders(ps.items);\n\t\t\tsetSize(ps.size);\n\t\t});\n\t}, []);\n\t\n\treturn (\n\t\t<div className=\"orders\">\n\t\t\t<h1 className=\"title\">Orders</h1>\n\t\t\t<div className=\"subtitle\">[{size}] items available</div>\n\t\t\t\n\t\t\t<div>\n\t\t\t\t<OrderList\n\t\t\t\t\titems={orders}\n\t\t\t\t\tonItemClick={(item)=>{\n\t\t\t\t\t\tprops.history.push(`/order/${item.id}`);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default withRouter(Index);\n","import axios from \"axios\";\nimport {stringify} from \"query-string\";\n\n\nfunction createOrder(params){\n\tconsole.log(\"createOrder# \", params);\n\treturn axios.post(`/order`, params);\n};\nfunction listOrders(params){\n\treturn axios.get(`/orders?${stringify(params)}`);\n};\n\n\nexport {\n\tcreateOrder,\n\tlistOrders,\n};\n","function deserialize(str){\n\ttry{\n\t\treturn JSON.parse(str);\n\t}catch(ex){\n\t\treturn [];\n\t}\n};\nfunction serialize(obj){\n\ttry{\n\t\treturn JSON.stringify(obj);\n\t}catch(ex){\n\t\treturn \"[]\";\n\t}\n};\n\nfunction addItem(item){\n\tconst items = deserialize(localStorage.cart || \"[]\");\n\tconst existing = items.find(itm => itm.id === item.id);\n\tif(existing) return;\n\t\n\titem.quantity = 1;\n\titems.push(item);\n\tlocalStorage.cart = serialize(items);\n\twindow.dispatchEvent(new Event(\"storage\"));\n};\nfunction removeItem(item){\n\tconst items = deserialize(localStorage.cart || \"[]\");\n\tconst filtered = items.filter((itm) => {\n\t\treturn itm.id !== item.id;\n\t});\n\tconsole.log(\"filtered: \", filtered);\n\tlocalStorage.cart = serialize(filtered);\n\twindow.dispatchEvent(new Event(\"storage\"));\n};\nfunction updateItem(item, qty){\n\tconst items = deserialize(localStorage.cart || \"[]\");\n\titems.forEach((itm) => {\n\t\tif(itm.id === item.id){\n\t\t\titm.quantity += qty;\n\t\t\tif(itm.quantity < 1){\n\t\t\t\titm.quantity = 1;\n\t\t\t};\n\t\t};\n\t});\n\tlocalStorage.cart = serialize(items);\n\twindow.dispatchEvent(new Event(\"storage\"));\n};\nfunction listItems() {\n\tconst items = deserialize(localStorage.cart || \"[]\");\n\treturn items;\n};\nfunction clearCart(){\n\tlocalStorage.clear();\n\twindow.dispatchEvent(new Event(\"storage\"));\n};\nfunction subscribeToCart(callback){\n\twindow.addEventListener(\"storage\", callback);\n};\n\nexport {\n\taddItem,\n\tremoveItem,\n\tupdateItem,\n\tlistItems,\n\tclearCart,\n\tsubscribeToCart\n};","import React, {useState, useEffect} from 'react';\nimport {withRouter} from \"react-router-dom\";\nimport Product from \"../../components/product/Product\";\nimport {getProduct} from \"../../apis/product\";\nimport {addItem} from \"../../components/product/CartStorage\";\n\nfunction ProductView(props) {\n\n  const id = props.match.params.id;\n  const[product, setProduct] = useState(null);\n\n  const onAddToCart = (product) => {\n    return (evt) => {\n      addItem(product);\n      props.history.push(`/products`);\n    };\n  };\n\n  useEffect(() => {\n    getProduct(id).then((result) => {\n      setProduct(result);\n    })\n  }, [0]);\n\n\n  return (\n    <div className=\"product-view\">\n      <h1 className=\"title\"></h1>\n      <div className=\"subtitle\"></div>\n\n      <div>\n        <Product\n          {...product}\n          extended={true}\n          onAddToCart={onAddToCart(product)}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(ProductView);\n","import React from 'react';\n\n\nfunction Modal({open, title, subtitle, children, footer, onClose}) {\n\n  return (\n    <div className={`modal ${open? 'is-active' : ''}`}>\n      <div className=\"modal-background\"/>\n      <div className=\"modal-card\">\n        <header className=\"modal-card-head\">\n          <div className=\"modal-card-title\">\n            {title}\n            <div className=\"subtitle\">\n              {subtitle}\n            </div>\n          </div>\n          <button className=\"delete\" aria-label=\"close\"\n            onClick={()=>{\n              onClose && onClose();\n            }}/>\n        </header>\n        <section className=\"modal-card-body\">\n          {children}\n        </section>\n        {footer && (\n          <footer className=\"modal-card-foot\">\n            {footer && React.Children.map(footer, (f) => f)}\n          </footer>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n","import React, {useState, useEffect, Fragment} from 'react';\nimport Modal from \"../modal/\";\nimport {createOrder} from \"../../apis/order\";\nimport {\n  removeItem, updateItem, listItems, clearCart, subscribeToCart\n} from \"./CartStorage\";\n\n\n\n\nconst Cart = ({}) => {\n  console.log(\"Cart: \");\n  const[items, setItems] = useState([]);\n  const[open, setOpen] = useState(false);\n  const[finalize, setFinalize] = useState(false);\n\n  const onRemove = (item) => {\n    return () => {\n      removeItem(item);\n    };\n  };\n\n  const updateQuantity = (item, qty) => {\n    return (evt) => {\n      console.log(\"updateQuantity#item \", item, qty);\n      updateItem(item, qty);\n    };\n  };\n\n  const computeTotal = (itms) => {\n    let total = 0;\n    itms.forEach((itm) => {\n      total += parseInt(itm.price, 10) * itm.quantity;\n    });\n    return total.toFixed(2);\n  };\n\n  useEffect(()=>{\n    setItems(listItems());\n    subscribeToCart((evt) => {\n      setItems(listItems());\n    });\n  },[]);\n\n\n  return (\n    <div className=\"cart\">\n      <button className=\"button is-light\"\n        onClick={()=>{\n          setOpen(true);\n        }}>\n        Cart &nbsp;\n        <span className=\"tag is-warning\">\n          {items && items.length}\n        </span>\n      </button>\n\n      <Modal\n        open={open}\n        title={(\n           <span>Cart ({items.length})</span>\n        )}\n        subtitle={(\n          <h1 className=\"title\">\n            <br/>\n            <span className=\"title is-4\">Totals: </span>\n            <span>\n              <span className=\"subtitle\">$</span>\n              {computeTotal(items)}\n            </span>\n          </h1>\n        )}\n        onClose={()=>{\n          setOpen(false);\n        }}\n        footer={(\n          <div className=\"cart-footer\">\n            {items && items.length > 0 && (\n              <button className=\"button is-danger is-large is-uppercase\"\n                onClick={() => {\n                  //const cartItems = listItems().map(({id, quantity}) => ({product: id, quantity}));\n                  const cartItems = listItems().map(p => {\n                    console.log(\"p========\", p);\n                    return {\n                      product: p.id,\n                      quantity: p.quantity,\n                      name: p.name,\n                      price: p.price\n                    };\n                  });\n                  console.log(\"cartItems: \", cartItems);\n                  createOrder({items: cartItems})\n                  .then((r) => {\n                    clearCart();\n                    setFinalize(true);\n                    setOpen(false);\n                  })\n                  .catch((err) => {});\n                }}>\n                Order\n              </button>\n            )}\n          </div>\n        )}>\n        <div>\n          {items && (\n            <div className=\"list-\">\n              {items.map((item, index) => (\n                <div key={index} className=\"list-item\">\n                  <button className=\"button is-small is-pulled-right is-danger\"\n                    onClick={onRemove(item)}>\n                    <i className=\"fas fa-trash-alt\"/>\n                  </button>\n                  <div className=\"title is-capitalized\">{item.name}</div>\n                  <div className=\"subtitle\">{item.price}</div>\n                  <div className=\"subtitle\">{item.name}</div>\n                    <div className=\"field has-addons is-grouped-right\">\n                      <p className=\"control\">\n                        <button className=\"button is-light\"\n                          onClick={updateQuantity(item, -1)}>\n                          <span className=\"icon\">\n                            <i className=\"fas fa-angle-left\"/>\n                          </span>\n                        </button>\n                      </p>\n                      <p className=\"control\">\n                        <a className=\"button\">\n                          {item.quantity}\n                        </a>\n                      </p>\n                      <p className=\"control\">\n                        <button className=\"button is-light\"\n                          onClick={updateQuantity(item, 1)}>\n                          <span className=\"icon\">\n                            <i className=\"fas fa-angle-right\"/>\n                          </span>\n                        </button>\n                      </p>\n                    </div>\n                </div>\n              ))}\n            </div>\n          )}\n          {(!items || !items.length) && (\n            <p className=\"subtitle\">\n              No items in cart yet, browse to add items.\n            </p>\n          )}\n        </div>\n      </Modal>\n\n    </div>\n  );\n};\n\nexport default Cart;\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport Cart from '../product/Cart';\n\n\nfunction Navbar({children}) {\n  console.log(\"Navbar#\");\n\n  return (\n    <nav className=\"navbar is-transparent is-fixed-top is-default is-spaced\">\n      <div className=\"container\">\n        <div className=\"navbar-brand\">\n          <a className=\"navbar-item\" href=\"/\">\n            <img src=\"https://bulma.io/images/bulma-logo.png\" alt=\"fictitious\" width=\"112\" height=\"28\"/>\n          </a>\n          <div className=\"navbar-burger burger\" data-target=\"navbarExampleTransparentExample\"\n            onClick={(evt) => {\n              evt.currentTarget.classList.toggle(\"is-active\");\n              document.getElementById(\"navbarExampleTransparentExample\").classList.toggle(\"is-active\");\n            }}>\n            <span></span>\n            <span></span>\n            <span></span>\n          </div>\n        </div>\n\n        <div id=\"navbarExampleTransparentExample\" className=\"navbar-menu\">\n        <div className=\"navbar-start\">\n          <Link className=\"navbar-item\" to=\"/products\">\n            Products\n          </Link>\n        </div>\n        <div className=\"navbar-end\">\n          <Link className=\"navbar-item\" to=\"/orders\">\n            Orders\n          </Link>\n          <div className=\"navbar-item\">\n            <div className=\"field is-grouped\">\n              <div className=\"control\">\n                {children}\n              </div>\n            </div>\n          </div>\n          <div className=\"navbar-item has-dropdown is-hoverable\">\n            <Link className=\"navbar-link\" to=\"/\">\n              User@gmail.com\n            </Link>\n            <div className=\"navbar-dropdown is-boxed\">\n              <Link className=\"navbar-item\" to=\"/\">\n                Profile\n              </Link>\n              <a className=\"navbar-item\" to=\"/\">\n                Setting\n              </a>\n              <hr className=\"navbar-divider\"/>\n              <Link className=\"navbar-item is-active\" to=\"/\">\n                Logout\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n      </div>\n    </nav>\n  );\n}\n\nexport default Navbar;\n","import React, {useState, useEffect, Fragment} from 'react';\nimport {BrowserRouter as Router, Route, Switch, Link} from 'react-router-dom';\nimport Products from \"./pages/product\";\nimport Orders from \"./pages/order\";\nimport ProductView from \"./pages/product/ProductView\";\nimport Navbar from \"./components/nav\";\nimport Cart from \"./components/product/Cart\";\nimport {subscribeToCart} from \"./components/product/Cart\";\n\n\n\n\nfunction App(props) {\n\n  useEffect(() => {\n  \n  }, []);\n\n  return (\n    <section className=\"section\">\n      <div className=\"container\">\n        <Router>\n          <Navbar>\n            <Cart/>\n          </Navbar>\n          <Switch>\n            <Route exact={true} path=\"/\"\n              render={()=>(\n                <div className=\"has-text-centered\">\n                  <Link to=\"/products\" className=\"button is-danger is-large\n                    is-uppercase is-family-monospace\">\n                    Enter\n                  </Link>\n                </div>\n              )}\n            />\n            <Route exact={true} path=\"/products\" component={Products}/>\n            <Route exact={true} path=\"/product/:id\" component={ProductView}/>\n            <Route exact={true} path=\"/orders\" component={Orders}/>\n          </Switch>\n        </Router>\n      </div>\n    </section>\n  );\n}\n\nexport default App;\n","import React from 'react';\n\nclass AppError extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // You can also log the error to an error reporting service\n    // logErrorToMyService(error, errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return <h1>Something went wrong.</h1>;\n    }\n    return this.props.children;\n  }\n};\n\n\nexport default AppError;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'http://localhost:8000';\naxios.defaults.headers.common['Authorization'] = \"None\";\naxios.defaults.headers.post['Content-Type'] = 'application/json';\naxios.defaults.timeout = 2500;\n\naxios.interceptors.request.use(function (config) {\n  return config;\n}, function (error) {\n  return Promise.reject(error);\n});\n\naxios.interceptors.response.use(function (response) {\n  return response && response.data;\n}, function (error) {\n  return Promise.reject(error);\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport AppError from \"./AppError\";\nimport './axiosSetup';\nimport './index.css';\n\nReactDOM.render(\n  <AppError>\n    <App/>\n  </AppError>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}